@{
    ViewBag.Title = "Новый тест";
}
<br />
<br />
<br />
<div class="panel panel-primary">
    <div class="panel-body" ng-controller="testCreateController">
        <div class="col-sm-12">
            <a href="#" class="btn btn-primary" ng-click="changeIndex(-1)">
                Основная информация
            </a>
            <a href="#" class="btn btn-default" ng-click="changeIndex($index)" ng-repeat="question in test.Questions" uib-tooltip="вопрос №{{$index + 1}}" tooltip-placement="bottom">
                {{$index + 1}}
            </a>
            <a href="#" class="btn btn-success" ng-click="addQuestion()" uib-tooltip="добавить вопрос" tooltip-placement="bottom">+</a>
        </div>
        <br />
        <div class="col-sm-12" ng-if="currentIndex > -1">
            <form class="form-horizontal" name="createQuestion" novalidate>
                <fieldset>
                    <legend>Вопрос №{{currentIndex + 1}}</legend>
                    <div class="form-group">
                        <div class="col-lg-1 col-md-1 col-sm-0"></div>
                        <label class="col-lg-3 col-md-3 col-sm-4 control-label">Текст вопроса</label>
                        <div class="col-sm-8 col-lg-6 col-md-6">
                            <textarea rows="15" class="form-control" ng-model="currentQuestion.Body"></textarea>
                        </div>
                        <div class="col-lg-1 col-md-0 col-sm-0"></div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-1 col-md-1 col-sm-0"></div>
                        <label class="col-lg-3 col-md-3 col-sm-4 control-label">Тип вопроса</label>
                        <div class="col-sm-8 col-lg-6 col-md-6">
                            <select class="form-control" ng-options="p.id as p.name for p in [{id:0,name:'Один выбор'},{id:1,name:'Мультивыбор'}]" ng-model="currentQuestion.QuestionType"></select>
                        </div>
                        <div class="col-lg-1 col-md-0 col-sm-0"></div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-1 col-md-1 col-sm-0"></div>
                        <label class="col-lg-3 col-md-3 col-sm-4 control-label">Варианты ответа:</label>
                        <div class="col-sm-8 col-lg-6 col-md-6">
                            <table class="table">
                                <tr ng-repeat="variant in currentQuestion.AnswerVariants">
                                    <td>
                                        <input class="form-control" type="text" ng-model="variant.Body" />
                                    </td>
                                    <td>
                                        <button class="btn btn-warning btn-xs" ng-click="removeVariant($index)">X</button>
                                    </td>
                                </tr>
                            </table>
                            <button class="btn btn-primary btn-sm" ng-click="addVariant()">Добавить вариант ответа</button>
                        </div>
                        <div class="col-lg-1 col-md-0 col-sm-0"></div>
                    </div>
                </fieldset>
            </form>
        </div>
        <div class="col-sm-12" ng-show="currentIndex == -1">
            <form class="form-horizontal" name="createForm" novalidate>
                <fieldset>
                    <legend>Создание нового теста</legend>
                    <div class="form-group">
                        <div class="col-lg-1 col-md-1 col-sm-0"></div>
                        <label class="col-lg-3 col-md-3 col-sm-4 control-label">Название</label>
                        <div class="col-sm-8 col-lg-6 col-md-6">
                            <input type="text" required class="form-control" ng-model="test.Title" />
                        </div>
                        <div class="col-lg-1 col-md-0 col-sm-0"></div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-1 col-md-1 col-sm-0"></div>
                        <label class="col-lg-3 col-md-3 col-sm-4 control-label">Описание</label>
                        <div class="col-sm-8 col-lg-6 col-md-6">
                            <textarea rows="15" class="form-control" ng-model="test.Description"></textarea>
                        </div>
                        <div class="col-lg-1 col-md-0 col-sm-0"></div>
                    </div>
                </fieldset>
            </form>
        </div>
        <div class="col-sm-12">
            <button ng-click="createTest()" class="btn btn-success right">Создать тест</button>
        </div>

    </div>
</div>

